{% extends "layout.html" %}

{% block body %}
<section>

	<div role="tabpanel" style="padding-left:5%;padding-right">
		<!-- Nav tabs -->
		<ul class="nav nav-tabs" role="tablist">
			<li role="presentation" class="active">
				<a href="#main" aria-controls="main" role="tab" data-toggle="tab">Main</a>
			</li>
			<li role="presentation">
				<a href="#portfolio" aria-controls="portfolio" role="tab" data-toggle="tab">Portfolio</a>
			</li>
			
		</ul>

		<!-- Tab panes -->
		<div class="tab-content">
			<div role="tabpanel" class="tab-pane active" id="main">
				<br>
				<div class="container" align="center">
					<form method="post" action="{{url_for('admin.settings')}}" class="form-horizontal">
						<div class="form-group">
				            {{ form.site_title.label(class_="control-label col-xs-3") }}
				            <div class="col-xs-6">
				                {{ form.site_title(class_="form-control") }}
				             </div>
				        </div>
				        <div class="form-group">
				            {{ form.site_tagline.label(class_="control-label col-xs-3") }}
				            <div class="col-xs-6">
				                {{ form.site_tagline(class_="form-control") }}
				            </div>
				        </div>
				        <div class="form-group">
				            {{ form.site_navbar_title.label(class_="control-label col-xs-3") }}
				            <div class="col-xs-6">
				                {{ form.site_navbar_title(class_="form-control") }}
				            </div>
				        </div>
				        <div class="form-group">
				            {{ form.landingpage_banner_image_url.label(class_="control-label col-xs-3") }}
				            <div class="col-xs-6">
				                {{ form.landingpage_banner_image_url(class_="form-control") }}
				             </div>
				        </div>
				        <div class="form-group">
				            {{ form.web_url.label(class_="control-label col-xs-3") }}
				            <div class="col-xs-6">
				                {{ form.web_url(class_="form-control") }}
				             </div>
				        </div>
				        <div class="form-group">
				            {{ form.fb_url.label(class_="control-label col-xs-3") }}
				            <div class="col-xs-6">
				                {{ form.fb_url(class_="form-control") }}
				             </div>
				        </div>
				        <div class="form-group">
				            {{ form.tw_url.label(class_="control-label col-xs-3") }}
				            <div class="col-xs-6">
				                {{ form.tw_url(class_="form-control") }}
				             </div>
				        </div>
				        <div class="form-group">
				            {{ form.li_url.label(class_="control-label col-xs-3") }}
				            <div class="col-xs-6">
				                {{ form.li_url(class_="form-control") }}
				             </div>
				        </div>

				        <div align="center">
				        	<button type="submit" class="btn btn-primary">Save</button>
				        </div>
					</form>
				</div>
			</div>
			<div role="tabpanel" class="tab-pane" id="portfolio">
				<br>
				<div class="container">
					{% if portfolio != None and portfolio|length > 0 %}
					<div class="panel">
						<!-- Default panel contents -->
						<div class="panel-body">
						  	<!-- Table -->
						  	<table class="table table-striped">
							    <thead>
							      <tr>
							        <th></th>
							        <th>Title</th>
							        <th>Subtitle</th>
							        <th>Description</th>
							        <th></th>
							      </tr>
							    </thead>
							    <tbody>
							      {% for item in portfolio %}
							      <tr>
							      	<td><img width="250" src="{{ item['image_url'] }}"/></td>
							        <td>{{ item['title'] }}</td>
							        <td>{{ item['subtitle'] }}</td>
							        <td>{{ item['description'] }}</td>
							        <td>
							          <table>
							            <tr>
							              <td>
							                <form method="get">
							                  <button type="submit" class="btn btn-default btn-sm btn-default">
							                    <span class="glyphicon glyphicon-edit"></span>
							                  </button>&nbsp;
							                </form>
							              </td>
							              <td>
							                <form method="get" action="{{ url_for('admin.settings_portfolio_delete', item_id='') }}{{ item['id'] }}">
							                  <button type="submit" class="btn btn-default btn-sm btn-danger">
							                    <span class="glyphicon glyphicon-remove"></span>
							                  </button>&nbsp;
							                </form>
							              </td>
							            </tr>
							          </table>
							        </td>
							      </tr>
							      {% endfor %}
							    </tbody>
						  	</table>
						</div>
					</div>
				    {% endif %}

				    <div align="right">
						<a href="#portfolioModal" class="portfolio-link btn btn-primary" data-toggle="modal">
							Add Item
						</a>
				    </div>		    
				</div>
			</div>
		</div>
	</div>
</section>
<div class="portfolio-modal modal fade" id="portfolioModal" tabindex="-1" role="dialog" aria-hidden="true">
	<div class="modal-content">
	    <div class="close-modal" data-dismiss="modal">
	        <div class="lr">
	            <div class="rl">
	            </div>
	        </div>
	    </div>
	    <div class="container">
	        <div class="row">
	            <div class="col-xs-10">
	                <div class="modal-body">
	                    <!-- Project Details Go Here -->
	                    <h2>Portfolio Item</h2>
	                    <form method="post" action="{{ url_for('admin.settings_portfolio_update') }}" class="form-horizontal">
							<div class="form-group">
					            {{ pf_form.title.label(class_="control-label col-xs-3") }}
					            <div class="col-xs-7">
					                {{ pf_form.title(class_="form-control") }}
					             </div>
					        </div>
					        <div class="form-group">
					            {{ pf_form.subtitle.label(class_="control-label col-xs-3") }}
					            <div class="col-xs-7">
					                {{ pf_form.subtitle(class_="form-control") }}
					             </div>
					        </div>
					        <div class="form-group">
					            {{ pf_form.image_url.label(class_="control-label col-xs-3") }}
					            <div class="col-xs-7">
					                {{ pf_form.image_url(class_="form-control") }}
					             </div>
					        </div>
					        <div class="form-group">
					            {{ pf_form.description.label(class_="control-label col-xs-3") }}
					            <div class="col-xs-7">
					                {{ pf_form.description(class_="form-control", rows=8) }}
					             </div>
					        </div>
					        <div class="form-group">
					        	<button type="submit" class="btn btn-primary">Add</button>
					        </div>
					    </form>
	                    
	                </div>
	            </div>
	        </div>
	    </div>
	</div>
</div>
{% endblock %}