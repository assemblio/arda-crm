{% extends "layout.html" %}
{% block body %}
<script type="text/javascript">
  google.load("visualization", "1", {packages:["corechart"]});
  google.setOnLoadCallback(drawChart);
  function drawChart() {
  var data = google.visualization.arrayToDataTable([
    ['Income Type', 'Value'],
    {% for result in results %}
      ["{{result['serviceType']}}", {{result['valueOfService']}}],
    {% endfor %}
  ]);
  var options = {
  title: 'Incomes based on provided services'
  };
  var chart = new google.visualization.PieChart(document.getElementById('piechart'));
  chart.draw(data, options);
  }
  $(document).ready(function() {
    /*
  $('#searchButon').click(function(){
      var from_date = $('#fromDate').val();
      var to_date = $('#toDate').val();
      url = "/api/service-fee?fromDate="+from_date+"&toDate="+to_date;      
      $.get(url, function(result){
        rebuildChart(result);
      });
    })*/
</script>

<section id="portofolio">
  <div id="container" align="center">
  <div id="piechart" style="width: 900px; height: 500px;"></div>
  <div class="form-group">
  <input type="text" id="fromDate"/>
  <input type="text" id="toDate"/>
  </div>
</div>
</section>
{% endblock %}